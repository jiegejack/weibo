//
//  PCDNetWorkService+Encrypt.h
//  PCDBank
//
//  Created by DK on 2019/1/15.
//  Copyright © 2019 DK. All rights reserved.
//

#import <PCDNetworkService/PCDNetworkService.h>

NS_ASSUME_NONNULL_BEGIN

#define REQUEST_METHOD_DEFAULT nil
#define REQUEST_CONTENTTYPE_DEFAULT nil

@interface PCDNetWorkService (Encrypt)

/**
 加密开关
 */
@property (nonatomic,assign) BOOL useEncrypt;

/**
 加解密方案 v1,v2,外部自定义
 */
@property (nonatomic,copy) NSString *encyptScheme;

/**
 客户端与服务端时间偏差值
 */
@property (nonatomic,copy) NSString *H_TIME_OFFSET;

/**
 网络请求行为采集
 */
@property (nonatomic,copy) void (^dataCollect)(PCDNetWorkItem *item,NSDictionary *info);


/**
 发送请求接口
 
 @param urlString 请求地址 全地址
 @param requestType 请求类型 DEFAULT:POST
 @param contentType 数据提交方式 DEFAULT: application/json
 @param configEncrypt 自定义配置加密 返回值为nil或不传则不加密
 @param body 请求体
 @param completionBlock 完成回调
 */
- (void)sendRequestWithUrlString:(NSString *)urlString requestType:(NSString * _Nullable)requestType contentType:(NSString * _Nullable)contentType configEncryptBlock:(NSString * (^)(NSString *unencryptJsonString))configEncrypt body:(id)body andCompletionBlock:(void(^)(PCDNetWorkItem *item,BOOL success))completionBlock;

@end

NS_ASSUME_NONNULL_END
