//
//  PCDTabBarController.h
//  PCKit
//
//  Created by wangyong on 16/3/25.
//  Copyright © 2016年 P&C Information. All rights reserved.
//

#import <UIKit/UIKit.h>

@class PCDTabBar,PCDUtil;
@protocol PCDTabBarControllerDelegate;

/**
 *  @brief 自定制tabBar视图控制器
 */
@interface PCDTabBarController : UIViewController

/**
 *  @brief 视图控制器数组
 */
@property(nullable, nonatomic,copy) NSArray<UIViewController *> *viewControllers;

/**
 *  @brief 当前选中索引，默认0
 */
@property(nonatomic) NSUInteger selectedIndex;

/**
 *  @brief tabBar视图，对于tabBar的隐藏建议使用setTabBarHidden:animated方法
 */
@property(nullable,nonatomic,strong) PCDTabBar *tabBar;

/**
 *  @brief 代理
 */
@property(nullable, nonatomic,weak) id<PCDTabBarControllerDelegate> delegate;

/**
 *  @brief tabBar视图的高度，默认49.0f
 */
@property (nonatomic,assign) CGFloat tabBarHeight;

/**
 *  @brief 底部高度，默认49.0f
 */
@property (nonatomic,assign) CGFloat bottomHeight;

/**
 *  @brief 属性设置，viewControllers、tabBarHeight、bottomHeight等设置
 */
-(void)setup;

/**
 *  @brief 初始化tabBar，需要子类实现
 */
-(void)initTabBar;

/**
 *  @brief 显示、隐藏tabBar
 *
 *  @param hidden   是否隐藏
 *  @param animated 是否动画
 */
-(void)setTabBarHidden:(BOOL)hidden animated:(BOOL)animated;

@end

@protocol PCDTabBarControllerDelegate <NSObject>

@optional

/**
 *  @brief 选中代理
 *
 *  @param viewController PCDTabBarController
 *  @param index          索引值
 */
- (void)tabBarController:(nonnull PCDTabBarController *)viewController selectedViewAtIndex:(NSUInteger)index;

/**
 是否允许切换，缺省情况下为true

 @param viewController PCDTabBarController
 @param index 索引值
 @return 是否可以切换板块
 */
- (BOOL)tabBarController:(nonnull PCDTabBarController *)viewController allowChangeToIndex:(NSUInteger)index;

@end
