//
//  JSGoBack.m
//  JSBankCCYRemastered
//
//  Created by Jack on 2019/4/10.
//  Copyright © 2019 Jack. All rights reserved.
//

#import "JSGoBack.h"

@interface JSGoBack ()
@end
@implementation JSGoBack

- (void)handler:(id)data andContext:(PCDContext *)context ResponseCallback:(WVJBResponseCallback )responseCallback {
    JSBaseWebViewController *viewController = (JSBaseWebViewController *)context.viewController;
//    NSString *jsonString = (NSString *)data;
//    if (!jsonString.notNull) {return;}
//    NSDictionary *dict = [jsonString JSONValue];
    //第三方页面处理
    //    if (是否第三方) {
    //        <#statements#>
    //    }
    if ([viewController.bankWebView canGoBack]) {
        [viewController.bankWebView goBack];
    } else {
        [viewController.tabBarController.navigationController popViewControllerAnimated:YES];
    }
    
    //普通页面处理
    if (!viewController.navLeftButtonFun.notNull || [viewController.navLeftButtonFun isEqualToString:@"gotoHomePage"]) {
        [viewController.tabBarController.navigationController popViewControllerAnimated:YES];
    } else {
        evaluateJavaScriptOnMainThread(self, viewController.navLeftButtonFun, @"");
    }
}

@end
