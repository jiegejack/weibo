//
//  CarLifeAuth.m
//  JSBankCCYRemastered
//
//  Created by Jack on 2019/7/24.
//  Copyright Â© 2019 Jack. All rights reserved.
//

#import "CarLifeAuth.h"

@implementation CarLifeAuth

- (void)handler:(id)data andContext:(PCDContext *)context ResponseCallback:(WVJBResponseCallback )responseCallback {
    NSDictionary *dict = (NSDictionary *)data;
    NSString *callback = [dict objectForKey:@"callback"];
    callback = callback.notNull ? callback : @"";
    
    [ClientNetManager fetchAuthCarLifeSuccess:^(id resultResponse) {
        NSDictionary *result = (NSDictionary *)resultResponse;
        if (result.notNull) {
            evaluateJavaScriptOnMainThread_quotes(self, callback, [result JSONRepresentation]);
        }
    } failure:^(NSString *MSG) {
        if (MSG.notNull) {
            [JSDeftAlert showMessage:MSG afterDelay:1.6 completeHandle:nil];
        }
    }];
}

@end
