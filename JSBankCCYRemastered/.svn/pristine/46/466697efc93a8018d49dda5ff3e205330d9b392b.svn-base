//
//  ClearClientCache.m
//  JSBankCCYRemastered
//
//  Created by Jack on 2019/6/5.
//  Copyright © 2019 Jack. All rights reserved.
//

#import "ClearClientCache.h"
#import "UIImageView+WebCache.h"

@implementation ClearClientCache

- (void)handler:(id)data andContext:(PCDContext *)context ResponseCallback:(WVJBResponseCallback )responseCallback {
    NSDictionary *dict = (NSDictionary *)data;
    if (!dict.notNull) {return;}

    NSString *callback = [dict objectForKey:@"callback"];

    
    [[SDImageCache sharedImageCache] clearDisk];
//    NSString *size = [NSString stringWithFormat:@"%ld",[[SDImageCache sharedImageCache] getSize]];
//    CGFloat sizeCache = [size floatValue];
//    NSLog(@"缓存 : %.2fM", (sizeCache / 1024.0) / 1024.0);
//    NSString *cache = [NSString stringWithFormat:@"%.2f", (sizeCache / 1024.0) / 1024.0];
    evaluateJavaScriptOnMainThread(self, callback, @"1");
}

@end
