//
//  JSSharePlugin.m
//  JSBankCCYRemastered
//
//  Created by Jack on 2019/4/28.
//  Copyright Â© 2019 Jack. All rights reserved.
//

#import "JSSharePlugin.h"
#import "SocialShare.h"

@implementation JSSharePlugin

- (void)handler:(id)data andContext:(PCDContext *)context ResponseCallback:(WVJBResponseCallback )responseCallback {
    JSBaseWebViewController *viewController = (JSBaseWebViewController *)context.eventTargetList.firstObject;
    NSString *jsonString = (NSString *)data;
    if (!jsonString.notNull) {return;}
    NSArray *dataArray = [jsonString JSONValue];

    [SocialShare share:dataArray shareController:viewController shareNumber:nil completeHandle:^(NSString *callback) {
        if (callback.notNull) {
            [viewController evalJs:[NSString stringWithFormat:@"%@()",callback]];
        }
    }];
}

@end
