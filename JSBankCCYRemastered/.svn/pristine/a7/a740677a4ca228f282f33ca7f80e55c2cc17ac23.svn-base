//
//  JSHomeViewController.m
//  JSBankCCYRemastered
//
//  Created by Jack on 2019/4/11.
//  Copyright Â© 2019 Jack. All rights reserved.
//

#import "JSHomeViewController.h"
#import "JSSettingPasswordViewController.h"
#import "InitPageTitle.h"
#import "JSBiometryLoginViewController.h"
#import "JSLoginViewController.h"
#import "ShareReceiptH5Plugin.h"

@interface JSHomeViewController () <UIScrollViewDelegate>

@end

@implementation JSHomeViewController

- (void)viewDidLoad {
    [super viewDidLoad];

    
//    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(3.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
        PCDContext *context = [[PCDContext alloc] init];
        context.eventTargetList = self.tabBarController.viewControllers;

        [[[ShareReceiptH5Plugin alloc] init] handler:nil andContext:context];
        
//        PCDContext *context = [[PCDContext alloc] init];
//        context.eventTargetList = self.tabBarController.viewControllers;
//        [[[InitPageTitle alloc] init] handler:nil andContext:context ResponseCallback:^(id responseData) {
//
//        }];
//    });
    
//    JSLoginViewController *lgvc = [[JSLoginViewController alloc] init];
//    lgvc.hidesBottomBarWhenPushed = YES;
//    [self.tabBarController.navigationController pushViewController:lgvc animated:YES];
    
}

- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType {
    
    return YES;
}
- (void)webViewDidFinishLoad:(UIWebView *)webView {
    [self.bankWebView.scrollView.mj_header endRefreshing];

}
- (void)webViewDidStartLoad:(UIWebView *)webVie {}

- (void)webView:(UIWebView *)webView didFailLoadWithError:(NSError *)error {
    [self.bankWebView.scrollView.mj_header endRefreshing];
}
@end
